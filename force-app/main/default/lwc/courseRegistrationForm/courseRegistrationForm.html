<template>
    <header>
        <lightning-record-view-form record-id={courseId} object-api-name="Course__c">
            <h1 class="navno-dekorator typo-sidetittel midtstill">
                <lightning-output-field field-name="Name" variant="label-hidden"
                    field-class="navno-dekorator typo-sidetittel">
                </lightning-output-field>
            </h1>
        </lightning-record-view-form>
    </header>
    <br></br>

    <div class="c-container">
        <lightning-layout multiple-rows="true">
            <lightning-layout-item padding="around-small" size="2"></lightning-layout-item>
            <lightning-layout-item padding="around-small" size="6">
                <div class="kursPanel">

                    <!--===========================VALIDERING===============================-->
                    <div if:true={showValidationInput}>
                        <h2>Kun inviterte kan melde seg på aktiviteten</h2>
                        <lightning-input type="text" class="tolk-skjema-input" name={inputValCode} value={inputValCode}
                            onchange={handleChange2} label="Tast inn din tilgangskode">
                        </lightning-input>
                        <br></br>
                        <lightning-button title="Vis aktivitet" class="" type="submit" variant="brand"
                            label="Vis aktivitet" onclick={validateCode}>
                        </lightning-button>
                    </div>
                    <!--======================================================================================-->

                    <!--======== COURSEID DOES NOT EXIST ===========-->
                    <div if:false={courseId} class="">
                        <div class="navno-dekorator alertstripe navno-dekorator alertstripe--advarsel">
                            <img class="navno-dekorator alertstripe__ikon"
                                src="/sfsites/c/resource/1597414613000/warningicon"></img>
                            <div class="typo-normal alertstripe__tekst">En feil har oppstått, prøv igjen senere
                            </div>
                        </div>
                    </div>
                    <!--===================================================================================-->

                    <!--============================REGISTRATION FORM=========================================-->
                    <div if:true={showForm}>
                        <h2 class="navno-dekorator typo-innholdstittel slds-p-around_medium">
                            Påmeldingsskjema
                        </h2>

                        <lightning-layout-item padding="around-small" size="3">
                            <lightning-input type="text" class="tolk-skjema-input" name="firstName" value={firstName}
                                onchange={handleChange} label="Fornavn" required>
                            </lightning-input>


                            <div class="">
                                <lightning-input type="text" class="tolk-skjema-input" name="lastName" value={lastName}
                                    onchange={handleChange} label="Etternavn" required>
                                </lightning-input>
                            </div>

                            <div class="">
                                <lightning-input type="email" class="tolk-skjema-input" name="email" value={email}
                                    onchange={handleChange} label="E-post" required>
                                </lightning-input>
                            </div>
                            <div class="">
                                <lightning-input type="phone" class="tolk-skjema-input" name="phone" value={phone}
                                    onchange={handleChange} label="Mobil" required>
                                </lightning-input>
                            </div>

                        </lightning-layout-item>
                        <div class="navno-dekorator alertstripe">
                            <!--<lightning-icon icon-name="utility:info" alternative-text="Information" title="Information"
                                size="small" class="navno-dekorator alertstripe__ikon">
                            </lightning-icon>-->

                            <img class="navno-dekorator alertstripe__ikon"
                                src="/sfsites/c/resource/1597414345000/informationcircle"></img>
                            <div class="typo-normal">NAV bruker disse opplysningene når vi kontakter deg. Vi lagrer
                                disse
                                opplysningene
                                om
                                deg, slik at vi kan kontakte deg om kurset du er meldt på. Opplysningene blir
                                ikke delt eller brukt til andre formål.

                            </div>
                        </div>
                        <div if:true={showError}>
                            <div class="navno-dekorator alertstripe navno-dekorator alertstripe--advarsel">
                                <!-- <lightning-icon icon-name="utility:warning" alternative-text="Warning!" title="Warning"
                                    class="navno-dekorator alertstripe__ikon" size="small"></lightning-icon> -->

                                <img class="navno-dekorator alertstripe__ikon"
                                    src="/sfsites/c/resource/1597414613000/warningicon"></img>
                                <div class="typo-normal alertstripe__tekst">Du må fylle ut alle feltene for å melde deg
                                    på
                                </div>
                            </div>
                            <br></br>
                        </div>
                        <div class="midtstill">
                            <lightning-button title="Meld på" class="" type="submit" variant="brand" label="Meld på"
                                onclick={handleSubmit}>
                            </lightning-button>
                        </div>

                    </div>

                    <!--======================== CONFIRMATION PAGE =============================================-->
                    <div if:true={showConfirmation} class="midtstill">
                        <br></br>
                        <h1>{message}</h1>
                    </div>
                    <!--=========================================================================================-->
                    <a href="https://arbeidsgiver.nav.no/kursoversikt/">Tilbake til kursoversikten</a>
                </div>
            </lightning-layout-item>


            <!--============================INFROMATION BOX=================================================-->
            <lightning-layout-item padding="around-small" size="3">
                <c-course-registration-information></c-course-registration-information>
            </lightning-layout-item>
            <!--============================================================================================-->

        </lightning-layout>
    </div>
</template>