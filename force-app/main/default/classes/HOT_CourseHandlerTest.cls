@isTest
private class HOT_CourseHandlerTest {
    
  @isTest
  static void testOnAfterInsert() {
    Course__c newCourse = new Course__c(
        Name = 'Inserted Course',
        DescriptionFormatted__c = 'Inserted test course',
        DescriptionShort__c = 'Short description',
        Region2__c = 'Rogaland',
        Active__c = true,
        MaxNumberOfParticipants__c = 15,
        RegistrationFromDateTime__c = DateTime.now(),
        RegistrationToDateTime__c = DateTime.now().addHours(3),
        RegistrationDeadline__c = DateTime.now().addDays(-1)
    );
    
    System.Test.startTest();
    insert newCourse;
    System.Test.stopTest();

    Course__c result = [SELECT Id, Name, OutlookCalendar__c, OutlookOfficeCalendar__c, GoogleCalendar__c FROM Course__c WHERE Id = :newCourse.Id LIMIT 1];

    System.assertNotEquals(null, result.OutlookCalendar__c, 'Outlook calendar URL should have been generated by HOT_CourseHandler.');
    System.assertNotEquals(null, result.OutlookOfficeCalendar__c, 'Outlook office calendar URL should have been generated by HOT_CourseHandler.');
    System.assertNotEquals(null, result.GoogleCalendar__c, 'Google calendar URL should have been generated by HOT_CourseHandler.');
  }
}